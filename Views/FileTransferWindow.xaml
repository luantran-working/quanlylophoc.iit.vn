<Window x:Class="ClassroomManagement.Views.FileTransferWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="Quản lý Tập tin" 
        Height="600" Width="700"
        MinHeight="500" MinWidth="600"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- ============================================ -->
        <!-- HEADER -->
        <!-- ============================================ -->
        <Border Grid.Row="0" Padding="20,16">
            <Border.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#FF9800" Offset="0"/>
                    <GradientStop Color="#F57C00" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>
            
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <TextBlock Text="QUẢN LÝ TẬP TIN" FontSize="18" FontWeight="Bold" Foreground="White"/>
                    <TextBlock Text="Thu thập và gửi file đến học sinh" 
                               FontSize="12" Foreground="#FFE0B2" Margin="0,4,0,0"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Border Background="#FFFFFF30" CornerRadius="8" Padding="12,6">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="FolderDownload" Width="18" Height="18" 
                                                      Foreground="White" VerticalAlignment="Center"/>
                            <TextBlock Text="5 file đang chờ" Foreground="White" FontSize="12" 
                                       Margin="8,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- ============================================ -->
        <!-- MAIN CONTENT -->
        <!-- ============================================ -->
        <Grid Grid.Row="1" Margin="16">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            
            <!-- Tabs -->
            <Border Grid.Row="0" Background="White" CornerRadius="8" Padding="4" Margin="0,0,0,16">
                <StackPanel Orientation="Horizontal">
                    <RadioButton x:Name="ReceiveTab" GroupName="FileTabs" 
                                 Style="{StaticResource MaterialDesignTabRadioButtonTop}"
                                 Content="Thu tập tin" IsChecked="True" Padding="24,8"/>
                    <RadioButton x:Name="SendTab" GroupName="FileTabs" 
                                 Style="{StaticResource MaterialDesignTabRadioButtonTop}"
                                 Content="Gửi tập tin" Padding="24,8"/>
                    <RadioButton x:Name="HistoryTab" GroupName="FileTabs" 
                                 Style="{StaticResource MaterialDesignTabRadioButtonTop}"
                                 Content="Lịch sử" Padding="24,8"/>
                </StackPanel>
            </Border>
            
            <!-- File List -->
            <materialDesign:Card Grid.Row="1" Padding="0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Toolbar -->
                    <Border Grid.Row="0" Background="#F8F9FA" Padding="16">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <StackPanel Grid.Column="0" Orientation="Horizontal">
                                <TextBox Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                         materialDesign:HintAssist.Hint="Tìm kiếm file..."
                                         Width="250" Height="40"
                                         materialDesign:TextFieldAssist.HasLeadingIcon="True"
                                         materialDesign:TextFieldAssist.LeadingIcon="Magnify"/>
                                
                                <ComboBox Style="{StaticResource MaterialDesignOutlinedComboBox}"
                                          materialDesign:HintAssist.Hint="Học sinh"
                                          Width="150" Height="40" Margin="12,0,0,0">
                                    <ComboBoxItem Content="Tất cả"/>
                                    <ComboBoxItem Content="Nguyễn Văn An"/>
                                    <ComboBoxItem Content="Trần Thị Bình"/>
                                    <ComboBoxItem Content="Lê Hoàng Cường"/>
                                </ComboBox>
                            </StackPanel>
                            
                            <Button Grid.Column="1" Style="{StaticResource MaterialDesignRaisedButton}"
                                    Background="#FF9800" Click="RequestFiles_Click">
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="FolderDownload" VerticalAlignment="Center"/>
                                    <TextBlock Text="Yêu cầu nộp file" Margin="8,0,0,0"/>
                                </StackPanel>
                            </Button>
                        </Grid>
                    </Border>
                    
                    <!-- File Items -->
                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="16">
                        <StackPanel>
                            
                            <!-- File Item 1 -->
                            <Border Background="#F8F9FA" CornerRadius="8" Padding="16" Margin="0,0,0,8">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <!-- File Icon -->
                                    <Border Grid.Column="0" Width="48" Height="48" CornerRadius="8" 
                                            Background="#FFECB3" Margin="0,0,16,0">
                                        <materialDesign:PackIcon Kind="FileDocument" Width="24" Height="24" 
                                                                  Foreground="#FF9800"
                                                                  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                    
                                    <!-- File Info -->
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <TextBlock Text="Bài tập Toán chương 3.docx" FontWeight="SemiBold"/>
                                        <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                                            <TextBlock Text="Nguyễn Văn An" FontSize="12" Foreground="#757575"/>
                                            <TextBlock Text=" • " FontSize="12" Foreground="#757575"/>
                                            <TextBlock Text="2.5 MB" FontSize="12" Foreground="#757575"/>
                                            <TextBlock Text=" • " FontSize="12" Foreground="#757575"/>
                                            <TextBlock Text="10:32 AM" FontSize="12" Foreground="#757575"/>
                                        </StackPanel>
                                    </StackPanel>
                                    
                                    <!-- Status -->
                                    <Border Grid.Column="2" Background="#E8F5E9" CornerRadius="4" 
                                            Padding="8,4" VerticalAlignment="Center" Margin="0,0,12,0">
                                        <TextBlock Text="Đã nhận" FontSize="11" Foreground="#2E7D32"/>
                                    </Border>
                                    
                                    <!-- Actions -->
                                    <StackPanel Grid.Column="3" Orientation="Horizontal">
                                        <Button Style="{StaticResource MaterialDesignIconButton}" 
                                                ToolTip="Tải xuống">
                                            <materialDesign:PackIcon Kind="Download" Width="20" Height="20"/>
                                        </Button>
                                        <Button Style="{StaticResource MaterialDesignIconButton}" 
                                                ToolTip="Xem">
                                            <materialDesign:PackIcon Kind="Eye" Width="20" Height="20"/>
                                        </Button>
                                    </StackPanel>
                                </Grid>
                            </Border>
                            
                            <!-- File Item 2 -->
                            <Border Background="#F8F9FA" CornerRadius="8" Padding="16" Margin="0,0,0,8">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <Border Grid.Column="0" Width="48" Height="48" CornerRadius="8" 
                                            Background="#E3F2FD" Margin="0,0,16,0">
                                        <materialDesign:PackIcon Kind="FileImage" Width="24" Height="24" 
                                                                  Foreground="#2196F3"
                                                                  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                    
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <TextBlock Text="Ảnh bài làm.png" FontWeight="SemiBold"/>
                                        <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                                            <TextBlock Text="Trần Thị Bình" FontSize="12" Foreground="#757575"/>
                                            <TextBlock Text=" • " FontSize="12" Foreground="#757575"/>
                                            <TextBlock Text="1.2 MB" FontSize="12" Foreground="#757575"/>
                                            <TextBlock Text=" • " FontSize="12" Foreground="#757575"/>
                                            <TextBlock Text="10:28 AM" FontSize="12" Foreground="#757575"/>
                                        </StackPanel>
                                    </StackPanel>
                                    
                                    <Border Grid.Column="2" Background="#E8F5E9" CornerRadius="4" 
                                            Padding="8,4" VerticalAlignment="Center" Margin="0,0,12,0">
                                        <TextBlock Text="Đã nhận" FontSize="11" Foreground="#2E7D32"/>
                                    </Border>
                                    
                                    <StackPanel Grid.Column="3" Orientation="Horizontal">
                                        <Button Style="{StaticResource MaterialDesignIconButton}" ToolTip="Tải xuống">
                                            <materialDesign:PackIcon Kind="Download" Width="20" Height="20"/>
                                        </Button>
                                        <Button Style="{StaticResource MaterialDesignIconButton}" ToolTip="Xem">
                                            <materialDesign:PackIcon Kind="Eye" Width="20" Height="20"/>
                                        </Button>
                                    </StackPanel>
                                </Grid>
                            </Border>
                            
                            <!-- File Item 3 - Pending -->
                            <Border Background="#FFF8E1" CornerRadius="8" Padding="16" Margin="0,0,0,8">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <Border Grid.Column="0" Width="48" Height="48" CornerRadius="8" 
                                            Background="#FFECB3" Margin="0,0,16,0">
                                        <materialDesign:PackIcon Kind="FilePdf" Width="24" Height="24" 
                                                                  Foreground="#F44336"
                                                                  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                    
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <TextBlock Text="Bài kiểm tra 15 phút.pdf" FontWeight="SemiBold"/>
                                        <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                                            <TextBlock Text="Lê Hoàng Cường" FontSize="12" Foreground="#757575"/>
                                            <TextBlock Text=" • " FontSize="12" Foreground="#757575"/>
                                            <TextBlock Text="Đang tải..." FontSize="12" Foreground="#FF9800"/>
                                        </StackPanel>
                                        <ProgressBar Value="65" Height="4" Margin="0,8,0,0"
                                                     Style="{StaticResource MaterialDesignLinearProgressBar}"
                                                     Foreground="#FF9800"/>
                                    </StackPanel>
                                    
                                    <Border Grid.Column="2" Background="#FFF3E0" CornerRadius="4" 
                                            Padding="8,4" VerticalAlignment="Center" Margin="0,0,12,0">
                                        <TextBlock Text="Đang tải" FontSize="11" Foreground="#E65100"/>
                                    </Border>
                                    
                                    <Button Grid.Column="3" Style="{StaticResource MaterialDesignIconButton}" 
                                            ToolTip="Hủy" Foreground="#F44336">
                                        <materialDesign:PackIcon Kind="Close" Width="20" Height="20"/>
                                    </Button>
                                </Grid>
                            </Border>
                            
                        </StackPanel>
                    </ScrollViewer>
                </Grid>
            </materialDesign:Card>
        </Grid>
        
        <!-- ============================================ -->
        <!-- FOOTER -->
        <!-- ============================================ -->
        <Border Grid.Row="2" Background="White" Padding="16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="Information" Width="18" Height="18" 
                                              Foreground="#757575" VerticalAlignment="Center"/>
                    <TextBlock Text="Tổng: 3 file | Đã nhận: 2 | Đang tải: 1" 
                               FontSize="12" Foreground="#757575" 
                               Margin="8,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button Style="{StaticResource MaterialDesignOutlinedButton}" 
                            Margin="0,0,8,0">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="DownloadMultiple" Width="18" Height="18" VerticalAlignment="Center"/>
                            <TextBlock Text="Tải tất cả" Margin="8,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                    <Button Style="{StaticResource MaterialDesignOutlinedButton}" 
                            Content="Đóng" Click="CloseButton_Click"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
